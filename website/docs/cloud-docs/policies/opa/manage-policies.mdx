---
page_title: Managing OPA Policies - Terraform Cloud
description: >-
  Policies are rules that are enforced on Terraform runs. Learn how to create
  and manage versioned policy sets.
---

# Managing Policies

-> **Note:** OPA policies are paid features, available as part of the **Team & Governance** upgrade package. [Learn more about Terraform Cloud pricing here](https://www.hashicorp.com/products/terraform/pricing).

Policies are rules which are enforced on Terraform runs to validate that the plan and corresponding resources are in compliance with company policies.

-> **API:** See the [Policy Sets API](/cloud-docs/api-docs/policy-sets).<br/>
**Terraform:** See the `tfe` provider's [`tfe_policy_set`](https://registry.terraform.io/providers/hashicorp/tfe/latest/docs/resources/policy_set) resource.

## Policies and Policy Sets

[teams]: /cloud-docs/users-teams-organizations/teams

[users]: /cloud-docs/users-teams-organizations/users

[workspaces]: /cloud-docs/workspaces

**Policies** are written using the Rego [language](https://www.openpolicyagent.org/docs/latest/policy-language/) for OPA policies.
Policies are the guardrails that prevent Terraform runs from performing dangerous actions. Upon evaluation, policies will adhere to a predefined [enforcement level](#enforcement-levels).

Policies are managed as parts of versioned policy sets, which allow individual policy files to be stored in a supported VCS provider or uploaded via the Terraform Cloud API.

**Policy sets** are groups of policies that can be enforced on [workspaces][]. A policy set can be enforced on designated workspaces, or to all workspaces in the organization.

After the plan stage of a Terraform run, Terraform Cloud checks every policy (both Sentinel and OPA) that should be enforced on the run's workspace. This includes policies from global policy sets, and from any policy sets that are explicitly assigned to the workspace.

Policy sets are managed at an organization level; viewing and modifying them requires permission to manage policies. ([More about permissions.](/cloud-docs/users-teams-organizations/permissions))

[permissions-citation]: #intentionally-unused---keep-for-maintainers

## Enforcement Levels

### OPA

Enforcement levels in OPA are used for defining behavior when policies fail to evaluate successfully. OPA provides two enforcement modes:

- `mandatory` requires that the policy passes. If a policy fails, the run is halted and may not be applied until any user with the [Manage Policy Overrides](/cloud-docs/users-teams-organizations/permissions#manage-policy-overrides) permissions overrides the policy failures.
- `advisory` will never interrupt the run, and instead will only surface policy failures as warning to the user.

## Constructing a policy set
See [OPA policy guidelines](/cloud-docs/policies/opa/opa-policy-guidelines)

## Managing Policy Sets

To manage policy sets, go to the "Policy Sets" section on the organization settings page.

![policy-sets-navigate](/img/docs/policy-sets-navigate.png)

Policy sets enforced on all workspaces are marked "All workspaces" in this list; other policy sets show how many workspaces they are enforced on. You may also notice policy sets with an informational tag that reads "Policies managed individually", which indicates that the policy set is not versioned and uses policy relationships. These policy sets may be [migrated](#migrating-individually-managed-policies-to-versioned-policy-sets) in the future, if required.

To create a new policy set, click the "Create a new policy set" button; to edit an existing set, click its entry in the list. Click the "Create policy set" or "Update policy set" button when finished.

When creating or editing a policy set, the following fields are available:

- **Name**: The name of the policy set, which is used in the UI. Must be unique to your organization. Accepts letters, numbers, `-`, and `_`.
- **Description**: A description of the policy set's purpose. The description can be any length and supports Markdown rendering.
- **Scope of policies:** Whether the set should be enforced on all workspaces, or only on a chosen list of workspaces.
- **VCS repo or "Upload via API"**: This area allows selecting a VCS repository from an existing OAuth client connection. Choosing "Upload via API" will not configure VCS integration, and instead tarballs of policy sets may be uploaded via the API. See the [policy set versions](/cloud-docs/api-docs/policy-sets#create-a-policy-set-version) for more information on uploading policy sets using the API.
- **VCS Branch**: This field allows specifying the branch within a VCS repository from which to import new versions of policies. If left blank, the value your version control provides as the default branch of the VCS repository is used.
- **Policies Path**: This field allows specifying a sub-directory within a VCS repository for the policy set files. This allows maintaining multiple policy sets within a single repository. The value of this field should be the path to the directory containing the `sentinel.hcl` configuration file of the policy set you wish to configure. If left blank, the root of the repository is used. A leading `/` may be used, but is optional (relative paths are assumed to originate from the root of the repository).
- **Workspaces:** Which workspaces the policy set should be enforced on. This is only shown when the scope of policies is set to "Policies enforced on selected workspaces." Use the drop-down menu and "Add workspace" button to add workspaces, and the trash can (ðŸ—‘) button to remove them.
- **Parameters:** A list of key/value parameters that will be sent to the Sentinel runtime when a policy check is being performed for the policy set. If the value can be parsed as JSON, it will be sent to Sentinel as the corresponding type (string, boolean, integer, map or list). If it fails JSON validation, it will be sent as a string. For more information on parameters, see the [Sentinel parameter documentation](https://docs.hashicorp.com/sentinel/language/parameters).

-> **Note:** Parameters are only available for versioned policy sets. If you are using an individually managed policy set, you will need to migrate it to a versioned policy set.